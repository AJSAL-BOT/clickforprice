<script>
  const adBox = document.getElementById('adBox');
  const overlay = document.getElementById('overlay');
  const continueBtn = document.getElementById('continueBtn');
  const countdown = document.getElementById('countdown');
  let adClicked = false;

  function detectAdIframeLoaded() {
    const container = document.getElementById('container-efa186d0dc7575a8f0e319dcffebcfc4');
    const iframes = container.getElementsByTagName('iframe');
    
    if (iframes.length > 0) {
      overlay.style.display = 'none'; // Hide loading screen
      adBox.style.backgroundColor = 'transparent';

      // Start click protection
      adBox.addEventListener('click', () => {
        if (adClicked) return;
        adClicked = true;

        let timeLeft = 20;
        countdown.textContent = `⏱ Wait ${timeLeft}s...`;

        const timer = setInterval(() => {
          timeLeft--;
          countdown.textContent = `⏱ Wait ${timeLeft}s...`;
          if (timeLeft <= 0) {
            clearInterval(timer);
            countdown.textContent = "✅ You can continue now!";
            continueBtn.style.display = 'inline-block';
          }
        }, 1000);
      });
    } else {
      // Try again in 500ms if iframe isn't present yet
      setTimeout(detectAdIframeLoaded, 500);
    }
  }

  // Start checking for ad iframe
  detectAdIframeLoaded();

  // Continue button action
  continueBtn.addEventListener('click', () => {
    window.location.href = "https://www.webintoapp.com/app-maker";
  });
</script>
